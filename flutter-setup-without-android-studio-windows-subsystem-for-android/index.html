<!doctype html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Configure Flutter without Android Studio on Windows Subsystem for Android - Yet another software engineer</title><link rel=icon type=image/png href=icons/myicon.png><meta name=viewport content="width=device-width,initial-scale=1">
<meta property="og:title" content="Configure Flutter without Android Studio on Windows Subsystem for Android"><meta property="og:description" content="Install and configure Flutter on Windows without Android Studio and use Windows Subsystem for Android as emulator"><meta property="og:type" content="article"><meta property="og:url" content="http://anotherdev.xyz/flutter-setup-without-android-studio-windows-subsystem-for-android/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-26T16:54:31+00:00"><meta property="article:modified_time" content="2023-05-26T16:54:31+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Configure Flutter without Android Studio on Windows Subsystem for Android"><meta name=twitter:description content="Install and configure Flutter on Windows without Android Studio and use Windows Subsystem for Android as emulator"><link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=http://anotherdev.xyz/css/normalize.css><link rel=stylesheet type=text/css media=screen href=http://anotherdev.xyz/css/main.css><link rel=stylesheet type=text/css href=http://anotherdev.xyz/css/custom.css><link rel=stylesheet type=text/css href=http://anotherdev.xyz/css/dark.css media="(prefers-color-scheme: dark)"><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script><script src=http://anotherdev.xyz/js/main.js></script><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-KX5L8P2")</script></head><body><div class="container wrapper post"><div class=header><base href=http://anotherdev.xyz/><h1 class=site-title><a href=http://anotherdev.xyz/>Yet another software engineer</a></h1><div class=site-description><h2>My thoughts are my own</h2><nav class="nav social"><ul class=flat><a href=https://github.com/shihabmridha title=Github><i data-feather=github></i></a><a href=https://twitter.com/shihabmridha title=Twitter><i data-feather=twitter></i></a></ul></nav></div><nav class=nav><ul class=flat><li><a href=http://anotherdev.xyz/>Home</a></li><li><a href=http://anotherdev.xyz/posts>All notes</a></li><li><a href=http://anotherdev.xyz/about>About</a></li><li><a href=http://anotherdev.xyz/tags>Tags</a></li></ul></nav></div><div class=post-header><h1 class=title>Configure Flutter without Android Studio on Windows Subsystem for Android</h1><div class=meta>Posted at &mdash; May 26, 2023</div></div><div class=markdown><h3 id=prerequisite>Prerequisite</h3><ul><li>Flutter Windows SDK downloaded and added to the environment variable.</li><li>Install the latest Java JDK (ex: 20 as of writing it) and add <code>JAVA_HOME</code> environment variable.</li></ul><h3 id=download-android-command-line-tool>Download android command line tool</h3><p>This command line tools will be used to install the Android SDK and other build tools. Download the latest version from <a href="https://developer.android.com/studio#command-tools:~:text=Command%20line%20tools%20only">here</a>. The documentation of the SDK manager commands can be found <a href=https://developer.android.com/studio/command-line/sdkmanager>here</a>.</p><p>In <code>C:\</code> drive, create a directory named <code>android-sdk/cmdline-tools/latest</code> and extract the downloaded CLI tool there. The reason we are creating such a folder structure is that when we are going to download the build-tools, platforms, etc they are going to be downloaded in the android-sdk directory automatically. We do not have to specify any path while downloading.</p><p>Open a terminal and go to <code>android-sdk/cmdline-tools/latest/bin</code> directory. Now we will run a few commands to download the SDK and necessary build tools.</p><p>Run the following command to see all the items that can be downloaded via the SDK manager.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; sdkmanager.bat --list
</span></span></code></pre></div><p>We need to download platform-tools, build-tools, and an android platforms. The command is:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#586e75># Assuming we are downloading android platform-33 and build-tools 33.0.2</span>
</span></span><span style=display:flex><span><span style=color:#586e75># We can get all the available options from the --list command above</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sdkmanager.bat <span style=color:#2aa198>&#34;platform-tools&#34;</span> <span style=color:#2aa198>&#34;build-tools;33.0.2&#34;</span> <span style=color:#2aa198>&#34;platforms;android-33&#34;</span>
</span></span></code></pre></div><p>Add the following paths to the <a href="https://learn.microsoft.com/en-us/previous-versions/office/developer/sharepoint-2010/ee537574(v=office.14)">environment variable</a>.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>C:<span style=color:#cb4b16>\a</span>ndroid-sdk<span style=color:#cb4b16>\p</span>latform-tools
</span></span><span style=display:flex><span>C:<span style=color:#cb4b16>\a</span>ndroid-sdk<span style=color:#cb4b16>\p</span>latforms
</span></span></code></pre></div><p>Close the terminal and open it. Check if we have access to adb command by checking its version.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; adb --version
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Android Debug Bridge version 1.0.41
</span></span><span style=display:flex><span>Version 34.0.1-9979309
</span></span><span style=display:flex><span>Installed as C:<span style=color:#cb4b16>\a</span>ndroid-sdk<span style=color:#cb4b16>\p</span>latform-tools<span style=color:#cb4b16>\a</span>db.exe
</span></span><span style=display:flex><span>Running on Windows 10.0.22621
</span></span></code></pre></div><h3 id=prepare-wsa-emulator-for-running-the-app>Prepare WSA emulator for running the app</h3><p>Open Windows Subsystem for Android settings and go to “Developer” section. Turn on the “Developer mode”. If you do not see any IP address, then click on the “Manage developer settings”.
<img src=images/flutter-setup-1.png alt="flutter setup without android studion wsa"></p><p>It should open the WSA emulator’s “Developer options” page. Now, close the Windows Subsystem for Android settings window and re-open it and go to “Developer” section again. Now you should see the IP and the port.
<img src=images/flutter-setup-2.png alt="flutter setup without android studion wsa"></p><p>Run the following command to connect to the WSA emulator so that we can run our app there.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; adb connect 127.0.0.1:58526
</span></span></code></pre></div><p>ou might get a prompt saying something like “do you want to allow access”. Press “Allow/Yes/Okay/Whatever positive”.
Run the following command to check if your WSA is recognized as a device.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; flutter devices
</span></span></code></pre></div><p><img src=images/flutter-setup-3.png alt="flutter setup without android studion wsa"></p><h3 id=create-and-run-a-flutter-app>Create and run a Flutter app</h3><p>Create a new Flutter app using the following command.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; flutter create fake_app
</span></span></code></pre></div><p>Go to the fake_app directory and run the app using the command below.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; flutter run
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>or, you can mention the device
</span></span><span style=display:flex><span>&gt; flutter run -d Subsystem
</span></span></code></pre></div><p>Now, there is a chance that you will get a Gradle build failed error saying there is a version mismatch. To fix that open the <code>fake_caller\android\gradle\wrapper\gradle-wrapper.properties</code> file. Change the <code>distributionUrl</code> URL to a Gradle version that is supported by your installed JDK. I am using JDK 20 so I will be using 8.1 or later. My file would look like this.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#268bd2>distributionBase</span><span style=color:#719e07>=</span>GRADLE_USER_HOME
</span></span><span style=display:flex><span><span style=color:#268bd2>distributionPath</span><span style=color:#719e07>=</span>wrapper/dists
</span></span><span style=display:flex><span><span style=color:#268bd2>zipStoreBase</span><span style=color:#719e07>=</span>GRADLE_USER_HOME
</span></span><span style=display:flex><span><span style=color:#268bd2>zipStorePath</span><span style=color:#719e07>=</span>wrapper/dists
</span></span><span style=display:flex><span><span style=color:#268bd2>distributionUrl</span><span style=color:#719e07>=</span>https<span style=color:#cb4b16>\:</span>//services.gradle.org/distributions/gradle-8.1-all.zip
</span></span></code></pre></div><p>Execute the flutter run command again to run the app. This time it should run successfully and open the app in a WSA window. For the first run it might take some time.</p><h3 id=note>Note:</h3><p>I have noticed that when I ran the <code>flutter run</code> command it downloaded the “Android Emulator” for some reason. Probably it is required for debugging purpose. But, I do not exactly know why.</p></div><div class=post-tags><nav class="nav tags"><ul class=flat><li><a href=http://anotherdev.xyz/tags/flutter>flutter</a></li></ul></nav></div></div><div class="footer wrapper"><nav class=nav><div>© Another Dev | <a href=https://github.com/vividvilla/ezhil>Ezhil theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></nav></div><script>feather.replace()</script></body></html>